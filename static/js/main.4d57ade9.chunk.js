(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{220:function(e,t,a){e.exports=a(429)},225:function(e,t,a){},429:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(134),l=a.n(c),i=(a(225),a(226),a(8)),s=a(33),o=a(7),u=a(12),m=a(11),d=a(9),p=a(10),h=a(14);var E=Object(h.b)(null,function(e){return{signOut:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})})}}})(function(e){return r.a.createElement("div",null,r.a.createElement("li",null,r.a.createElement(i.c,{to:"/create-quote"},"Create Quote")),r.a.createElement("li",{onClick:e.signOut},r.a.createElement(i.c,{to:"/sign-in"},"Log Out")),r.a.createElement("li",null,r.a.createElement("a",{href:"/",className:"btn btn-floating indigo darken-2"},e.userProfile.initialName)))});function f(){return r.a.createElement("div",null,r.a.createElement("li",null,r.a.createElement(i.c,{to:"/sign-up"},"Sign Up")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/sign-in"},"Sign In")))}var b=a(218),g=a.n(b),v=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){g.a.AutoInit()}},{key:"render",value:function(){var e=this.props.auth.uid?r.a.createElement(E,{userProfile:this.props.profile}):r.a.createElement(f,null);return r.a.createElement("div",null,r.a.createElement("div",{className:"navbar-fixed"},r.a.createElement("nav",{className:"blue darken-2",role:"navigation"},r.a.createElement("div",{className:"nav-wrapper container"},r.a.createElement(i.b,{to:"/",id:"logo-container",className:"brand-logo"},r.a.createElement("h5",null,"Pretty Quotes")),r.a.createElement("a",{href:"/","data-target":"mobile-links",className:"right sidenav-trigger"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-med-and-down"},e)))),r.a.createElement("ul",{id:"mobile-links",className:"sidenav"},e))}}]),t}(n.Component),N=Object(h.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}})(v),y=a(92),O=a.n(y);function j(e){return r.a.createElement("div",{className:"card z-depth-0",style:{cursor:"pointer"}},r.a.createElement("div",{className:"card-content grey-text text-darken-3"},r.a.createElement("span",{className:"card-title"},e.title),r.a.createElement("p",null,"Posted by ",e.author),r.a.createElement("p",{className:"grey-text"},O()(e.time.toDate()).calendar())))}var w=a(49);function S(e){var t=Object(w.b)({from:{opacity:0},opacity:1});return r.a.createElement(w.a.div,{style:t,className:"quote-list section"},e.quotes?e.quotes.map(function(e){return r.a.createElement(i.b,{to:"/quotes/"+e.id,key:e.id},r.a.createElement(j,{title:e.quote,author:e.author,time:e.createdAt}))}):null)}var C=a(27),x=a(23),q=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.quotes;return e.auth.uid?r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6",style:{marginTop:"10%"}},r.a.createElement(S,{quotes:t})))):r.a.createElement(s.a,{to:"/sign-in"})}}]),t}(n.Component),R=Object(x.d)(Object(h.b)(function(e){return{quotes:e.firestore.ordered.quotes,auth:e.firebase.auth}}),Object(C.firestoreConnect)([{collection:"quotes",orderBy:["createdAt","desc"]}]))(q);var k=Object(x.d)(Object(h.b)(function(e,t){var a=t.match.params.id,n=e.firestore.data.quotes;return{quote:n?n[a]:null,auth:e.firebase.auth}}),Object(C.firestoreConnect)([{collection:"quotes"}]))(function(e){var t=e.quote,a=e.auth,n=Object(w.b)({opacity:1,from:{opacity:0}});return a.uid?t?r.a.createElement(w.a.div,{style:n,className:"container section"},r.a.createElement("div",{className:"card z-depth-0",style:{marginTop:"5%"}},r.a.createElement("div",{className:"card-content grey-text text-darken-3"},r.a.createElement("p",null,t.quote)),r.a.createElement("div",{className:"card-action grey-text"},r.a.createElement("p",null,"Posted by ",t.author),r.a.createElement("p",null,O()(t.createdAt.toDate()).calendar())))):r.a.createElement("div",{className:"container center"},r.a.createElement("p",null,"Loading quote ...")):r.a.createElement(s.a,{to:"/sign-in"})}),I=a(21),U=a(48),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(I.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.authError;return t.auth.uid?r.a.createElement(s.a,{to:"/"}):r.a.createElement(U.Spring,{from:{opacity:0,margin:0},to:{opacity:1,margin:5}},function(t){return r.a.createElement("div",{className:"sign-in container white",style:{opacity:"".concat(t.opacity),padding:"10px",marginTop:"".concat(t.margin,"%")}},r.a.createElement("form",{onSubmit:e.handleSubmit,className:"white"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("h5",{className:"text-grey text-darken-3"},"Sign In"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"text",id:"email",className:"validate",onChange:e.handleChange,ref:"email"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",className:"validate",onChange:e.handleChange,ref:"password"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue darken-2 z-depth-0"},"Sign In"))),r.a.createElement("div",{className:"col s12 m6 blue-text lighten-3",style:{textAlign:"right",cursor:"pointer"}},r.a.createElement("p",null,r.a.createElement(i.c,{to:"/sign-up"},"Don't have an accout?")))),r.a.createElement("div",{className:"container red-text center"},a?r.a.createElement("p",null,a):null)))})}}]),t}(n.Component),A=Object(h.b)(function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",payload:t})})}));var a}}})(F),T=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",email:"",password:""},a.handleChange=function(e){a.setState(Object(I.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.authError;return a.uid?r.a.createElement(s.a,{to:"/"}):r.a.createElement(U.Spring,{from:{opacity:0,margin:0},to:{opacity:1,margin:5}},function(t){return r.a.createElement("div",{className:"sign-in container white",style:{opacity:"".concat(t.opacity),marginTop:"".concat(t.margin,"%"),padding:"10px"}},r.a.createElement("form",{onSubmit:e.handleSubmit,className:"white"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("h5",{className:"text-grey text-darken-3"},"Sign Up")),r.a.createElement("div",{className:"input-field col s12 m6"},r.a.createElement("label",{htmlFor:"first-name"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",className:"validate",onChange:e.handleChange})),r.a.createElement("div",{className:"input-field col s12 m6"},r.a.createElement("label",{htmlFor:"last-name"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",className:"validate",onChange:e.handleChange})),r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"text",id:"email",className:"validate",onChange:e.handleChange}))),r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",className:"validate",onChange:e.handleChange}))),r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue darken-2 z-depth-0"},"Sign Up"))),r.a.createElement("div",{className:"container red-text center"},n?r.a.createElement("p",null,n):null))))})}}]),t}(n.Component),_=Object(h.b)(function(e){return{auth:e.firebase.auth,authError:e.auth.authError}},function(e){return{signUp:function(t){return e((a=t,function(e,t,n){var r=n.getFirebase,c=n.getFirestore,l=r(),i=c();l.auth().createUserWithEmailAndPassword(a.email,a.password).then(function(e){i.collection("users").doc(e.user.uid).set({firstName:a.firstName,lastName:a.lastName,initialName:a.firstName[0]+a.lastName[0]})}).then(function(){e({type:"SIGNUP_SUCCESS"})}).catch(function(t){e({type:"SIGNUP_ERROR",payload:t})})}));var a}}})(T),P=a(42),D=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={quote:""},a.handleChange=function(e){a.setState(Object(I.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.createQuote(a.state),a.props.history.push("/")},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return this.props.auth.uid?r.a.createElement(U.Spring,{from:{opacity:0},to:{opacity:1}},function(t){return r.a.createElement("div",{className:"sign-in container white",style:{opacity:"".concat(t.opacity),marginTop:"10%",padding:"20px"}},r.a.createElement("form",{onSubmit:e.handleSubmit,className:"white"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("h5",{className:"text-grey text-darken-3"},"Today's thought"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"text",id:"quote",placeholder:"Your thought in words",onChange:e.handleChange,ref:"quote"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue darken-2 z-depth-0"},"Done!"))))))}):r.a.createElement(s.a,{to:"/sign-in"})}}]),t}(n.Component),L=Object(h.b)(function(e){return{auth:e.firebase.auth}},function(e){return{createQuote:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var r=(0,n.getFirestore)(),c=a().firebase.profile;r.collection("quotes").add(Object(P.a)({},e,{author:c.firstName[0]+". "+c.lastName,createdAt:new Date})).then(function(){t({type:"CREATE_QUOTE",payload:e})}).catch(function(e){t({type:"CREATE_QUOTE_ERROR",payload:e})})}}(t))}}})(D);var G=function(){return r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(N,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:R}),r.a.createElement(s.b,{path:"/quotes/:id",component:k}),r.a.createElement(s.b,{path:"/sign-in",component:A}),r.a.createElement(s.b,{path:"/sign-up",component:_}),r.a.createElement(s.b,{path:"/create-quote",component:L}))))},Q={authError:null},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return Object(P.a)({},e,{authError:"Login Failed!"});case"LOGIN_SUCCESS":return console.log("Login success!"),Object(P.a)({},e,{authError:null});case"SIGNOUT_SUCCESS":return e;case"SIGNUP_SUCCESS":return Object(P.a)({},e,{authError:null});case"SIGNUP_ERROR":return Object(P.a)({},e,{authError:t.payload.message});default:return e}},B={},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;switch((arguments.length>1?arguments[1]:void 0).type){case"CREATE_QUOTE":case"CREATE_QUOTE_ERROR":default:return e}},W=a(64),K=Object(x.c)({auth:z,quote:J,firestore:W.firestoreReducer,firebase:C.firebaseReducer}),M=a(219),V=a(138),Y=a.n(V);a(423),a(427);Y.a.initializeApp({apiKey:"AIzaSyBklbdkoLD8yVhSCNm4w5Wk7RIJ2Ia7Zq0",authDomain:"beautiful-quote.firebaseapp.com",databaseURL:"https://beautiful-quote.firebaseio.com",projectId:"beautiful-quote",storageBucket:"beautiful-quote.appspot.com",messagingSenderId:"815766710846",appId:"1:815766710846:web:7c299cbebd3c09a8"});var Z=Y.a,H=Object(x.e)(K,Object(x.d)(Object(x.a)(M.a.withExtraArgument({getFirebase:C.getFirebase,getFirestore:W.getFirestore})),Object(C.reactReduxFirebase)(Z,{useFirestoreForProfile:!0,userProfile:"users"}),Object(W.reduxFirestore)(Z)));Object(C.authIsReady)(H,"firebase").then(function(){l.a.render(r.a.createElement(h.a,{store:H},r.a.createElement(G,null)),document.getElementById("root"))})}},[[220,1,2]]]);
//# sourceMappingURL=main.4d57ade9.chunk.js.map